@model IEnumerable<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>

@{
    ViewBag.Title = "ViewAvailability";
}

@*@using (Html.BeginForm("ViewAvailability", "FindTrain", FormMethod.Post))*@

<table class="box" border="1">
    <tr><td><h2>ViewAvailability</h2></td></tr>
    <tr>
        <th>Train No</th>
        <th>Train Name</th>
        <th>Class Name</th>
        <th>Seats</th>
        <th>Cost</th>
    </tr>
    @*<tr>
            <td>@Html.DisplayFor(Model.TrainDetails.TrainNo)</td>
            <td>@Html.Display(TrainDetails.TrainName)</td>
        </tr>*@

    @foreach (var Classes in Model.First().TrainDetails.TrainClassDetails)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => Model.First().TrainDetails.TrainNo)</td>
            <td>@Html.DisplayFor(modelItem => Model.First().TrainDetails.TrainName)</td>
            <td>
                @Html.DisplayFor(modelItem => Classes.TrainClasses.ClassName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Classes.Seats)
            </td>
            <td>
                @Html.DisplayFor(modelItem => Classes.Cost)
            </td>

            <td>@Html.ActionLink("Book", "BookTicket", "TicketBooking", new { id = Model.First().TrainDetails.TrainId, no = Model.First().TrainDetails.TrainNo, c_Id = Classes.TrainClasses.ClassId, name = Classes.TrainClasses.ClassName },"")</td>

        </tr>
    }





    @*@for (int i = 0; i < Model.Count(); i++)
        {
            <tr>
                <td>@Html.DisplayFor(Model => Model.ElementAt<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>(0).TrainDetails.TrainNo)</td>

                <td>@Html.DisplayFor(Model => Model.ElementAt<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>(0).TrainDetails.TrainName)</td>


                   <td>@Html.DisplayFor(Model => Model.ElementAt<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>(i).TrainClass.ClassName)</td>


                <td>@Html.DisplayFor(Model => Model.ElementAt<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>(i).Seats)</td>

                <td>@Html.DisplayFor(Model => Model.ElementAt<OnlineTrainTicketBookingMVC.Models.TrainClassDetailsViewModel>(i).Cost)</td>

            </tr>
        }*@
</table>
